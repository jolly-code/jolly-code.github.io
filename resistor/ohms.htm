<!doctype html>
  <html lang="en">
    <head>
      <!-- Required meta tags -->
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

      <!-- Bootstrap CSS -->
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

      <title>Resistor Calc</title>
      <link rel="shortcut icon" href="/favicon.ico">
      
      <!-- Custom styles for this template -->
      <link href="/product.css" rel="stylesheet">
    </head>
    <body>
<!--#include file="/header.shtml" -->

<!--#include file="header.shtml" -->

      <div class="container">
            <div class="container text-center my-5">
                <h1 class="text-muted" >V = I × R</h1>
            </div>

            <form>
                <div class="form-group row">
                    <label class="col-6 col-form-label text-right" for="voltage">Voltage (V)</label>
                    <input type="number" step="any" min="0" class="form-control text-right col-4" id="voltage" aria-describedby="voltage" placeholder="">
                    <label class="col col-form-label">V</label>
                </div>
                <div class="form-group row">
                    <label class="col-6 col-form-label text-right" for="amperage">Amperage (I)</label>
                    <input type="number" step="any" min="0" class="form-control text-right col-4" id="amperage" aria-describedby="amperage" placeholder="">
                    <label class="col col-form-label">A</label>
                </div>
                <div class="form-group row">
                    <label class="col-6 col-form-label text-right" for="resistance">Resistance (R)</label>
                    <input type="number" step="any" min="0" class="form-control text-right col-4" id="resistance" aria-describedby="resistance" placeholder="">
                    <label class="col col-form-label">Ω</label>
                </div>
            </form>
      </div>


      <!-- Optional JavaScript -->
      <!-- jQuery first, then Popper.js, then Bootstrap JS -->
      <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

      <script type="text/javascript">
        $("#ohmsTab").addClass("active");
        
        var changeStack = [];

        function evaluate(sender, alt1, alt2){
            var id = sender.attr("id");
            sender.attr("placeholder", null);

            var index = changeStack.indexOf(id);
            if(index >= 0){
                changeStack.splice(index, 1);
            }

            if(changeStack.length == 0) {
                changeStack.push(id);
                return;
            }

            var last = changeStack[changeStack.length-1];

            var x = sender.val().trim();
            var y = alt1.val().trim();
            var z = alt2.val().trim();

            if(last == alt1.attr("id") && x >= 0 && y >= 0){
                if(y == 0){
                    alt2.attr("placeholder", "Undefined");
                    alt2.val(null);
                }
                else {
                    z = x / y;
                    alt2.attr("placeholder", null);
                    alt2.val(z);
                }
            }
            else if(x >= 0 && z >= 0){
                if(z == 0){
                    alt1.attr("placeholder", "Undefined");
                    alt1.val(null);
                }
                else
                {
                    y = x / z;
                    alt1.attr("placeholder", null);
                    alt1.val(y);
                }
            }

            changeStack.push(id);
        }

        $("#voltage").on('change keydown paste input', function(){
            evaluate($("#voltage"), $("#amperage"), $("#resistance"))
        });
        
        $("#amperage").on('change keydown paste input', function(){
            evaluate($("#amperage"), $("#voltage"), $("#resistance"))
        });
        
        $("#resistance").on('change keydown paste input', function(){
            evaluate($("#resistance"), $("#voltage"), $("#amperage"))
        });
        
        $("#voltage").val(null);
        $("#amperage").val(null);
        $("#resistance").val(null);
      </script>
    </body>
  </html>
